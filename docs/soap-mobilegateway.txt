Zimbra Mobile Gateway SOAP API Extensions
-----------------------------------------

The very first request that an app needs to send to ZMG is the BootstrapMobileGatewayAppRequest.
The response would include a key (or a secret) for the app, that the app can use to authenticate itself in the future,
as well as an auth token that the app can use to start using base SOAP API.


<BootstrapMobileGatewayAppRequest xmlns="urn:zimbraAccount">
  <appId>{app-uuid}</appId>
  <ua>{device-user-agent}<ua>
</BootstrapMobileGatewayAppRequest>

appId - A uuid generated by the app at install time
ua    - Device user-agent string


<BootstrapMobileGatewayAppResponse xmlns="urn:zimbraAccount">
  <appKey>{app-key}</appKey>
  <authToken lifetime="{auth-token-lifetime}">{app-auth-token}</authToken>
</BootstrapMobileGatewayAppResponse>


The app should persist the app uuid and the app key on the device in a secure manner.

----

To add an email account (like gmail) the app would need to use the CreateDataSourceRequest API (refer base SOAP API).
An app is allowed to specify the folder id as "-1" to indicate that the server should create the folder into which
the external data would be imported. The created folder's id would be returned in the response in that case.

<CreateDataSourceRequest/>
  <imap ... l="-1" .../>
</CreateDataSourceRequest>

<CreateDataSourceResponse>
  <imap id="{id}" l="{folder-id}"/>
</CreateDataSourceResponse>

----

If the app auth token expires, the app can request a new auth token.

<RenewMobileGatewayAppTokenRequest xmlns="urn:zimbraAccount">
  <appId>{app-uuid}</appId>
  <appKey>{app-key}</appKey>
</RenewMobileGatewayAppTokenRequest>

<RenewMobileGatewayAppTokenResponse xmlns="urn:zimbraAc count">
  <authToken lifetime="{auth-token-lifetime}">{app-auth-token}</authToken>
</RenewMobileGatewayAppTokenResponse>

----

